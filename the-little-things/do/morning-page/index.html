<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morning Pages</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ìƒíƒœ -->
        <div id="login-screen" class="screen">
            <div class="login-container">
                <h1 class="app-title">Morning Pages</h1>
                <p class="app-subtitle">ë§¤ì¼ 1000ì, ë‚˜ë§Œì˜ ìƒê°ì„ ê¸°ë¡í•˜ì„¸ìš”</p>
                
                <form id="login-form" class="login-form">
                    <div class="form-group">
                        <label for="repo-url">Repository URL</label>
                        <input 
                            type="text" 
                            id="repo-url" 
                            placeholder="https://github.com/username/morning-pages-private"
                            required
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="access-token">Personal Access Token</label>
                        <input 
                            type="password" 
                            id="access-token" 
                            placeholder="ghp_xxxxxxxxxxxxxxxxxxxx"
                            required
                        >
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember-login">
                            <span class="checkmark"></span>
                            30ì¼ê°„ ìë™ ë¡œê·¸ì¸
                        </label>
                    </div>
                    
                    <button type="submit" class="login-btn">ë¡œê·¸ì¸</button>
                    
                    <div class="login-actions">
                        <button type="button" id="clear-cache-btn" class="clear-cache-btn">ìºì‹œ ì‚­ì œ</button>
                        <a href="#" id="token-guide">Personal Access Token ìƒì„± ê°€ì´ë“œ</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ -->
        <div id="main-screen" class="screen hidden">
            <header class="app-header">
                <div class="header-left">
                    <h1 class="app-logo">Morning Pages</h1>
                </div>
                <div class="header-right">
                    <span id="user-info" class="user-info"></span>
                    <button id="logout-btn" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </header>

            <main class="app-main">
                <aside class="sidebar">
                    <div class="sidebar-header">
                        <h3>íŒŒì¼</h3>
                        <div class="sidebar-actions">
                            <button id="new-file-btn" class="sidebar-btn" title="ìƒˆ íŒŒì¼">ğŸ“„</button>
                        </div>
                    </div>
                    <div id="file-tree" class="file-tree">
                        <!-- íŒŒì¼ íŠ¸ë¦¬ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </aside>

                <section class="editor-section">
                    <div class="editor-header">
                        <div class="editor-title">
                            <input type="text" id="file-title" class="file-title-input" placeholder="íŒŒì¼ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" />
                        </div>
                        <div class="editor-stats">
                            <span id="char-count">0</span> / 1000ì
                        </div>
                    </div>
                    
                    <div class="editor-container">
                        <textarea 
                            id="editor" 
                            class="editor-textarea"
                            placeholder="ì˜¤ëŠ˜ì˜ ìƒê°ì„ ììœ ë¡­ê²Œ ì ì–´ë³´ì„¸ìš”...

ëª¨ë‹í˜ì´ì§€ëŠ” ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
- ë§ì¶¤ë²•ì´ë‚˜ ë¬¸ë²•ì— ì‹ ê²½ì“°ì§€ ë§ˆì„¸ìš”
- ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ ììœ ë¡­ê²Œ ì¨ë³´ì„¸ìš”
- ìµœì†Œ 1000ì ì´ìƒ ì‘ì„±í•´ì£¼ì„¸ìš”"
                        ></textarea>
                    </div>

                    <div class="editor-footer">
                        <div class="editor-actions">
                            <button id="save-btn" class="save-btn" disabled>ì €ì¥í•˜ê¸°</button>
                        </div>
                        <div class="writing-time">
                            <span id="writing-time"></span>
                        </div>
                    </div>
                </section>

                <section class="preview-section">
                    <div class="preview-header">
                        <h3>ë¯¸ë¦¬ë³´ê¸°</h3>
                    </div>
                    <div id="preview" class="preview-content">
                        <!-- ë§ˆí¬ë‹¤ìš´ ë¯¸ë¦¬ë³´ê¸°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </section>
            </main>

            <!-- ì‘ì„± í˜„í™© íˆíŠ¸ë§µ -->
            <section class="heatmap-section">
                <div class="heatmap-header">
                    <h3>ì‘ì„± í˜„í™©</h3>
                    <button id="stats-toggle" class="stats-toggle-btn" title="ì‘ì„± í˜„í™© í† ê¸€">view</button>
                </div>
                <div id="heatmap" class="heatmap-container">
                    <!-- íˆíŠ¸ë§µì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </section>
        </div>
    </div>

    <!-- ìˆ˜í‚¤í”¼ í™•ì¸ ëª¨ë‹¬ -->
    <div id="sukipi-modal" class="modal hidden">
        <div class="modal-content sukipi-modal">
            <div class="modal-body">
                <h3>ğŸ¤” ì ê¹!</h3>
                <p>ìˆ˜í‚¤í”¼ê°€ ë§ìŠµë‹ˆê¹Œ?</p>
                <div class="modal-actions">
                    <button id="sukipi-yes" class="modal-btn primary">ë§ìŠµë‹ˆë‹¤</button>
                    <button id="sukipi-no" class="modal-btn secondary">ì•„ë‹™ë‹ˆë‹¤</button>
                </div>
            </div>
        </div>
    </div>

    <!-- í† í° ê°€ì´ë“œ ëª¨ë‹¬ -->
    <div id="token-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Personal Access Token ìƒì„± ê°€ì´ë“œ</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <ol>
                    <li>GitHub.comì— ë¡œê·¸ì¸</li>
                    <li>Settings â†’ Developer settings â†’ Personal access tokens</li>
                    <li>"Generate new token (classic)" í´ë¦­</li>
                    <li>Token name: "Morning Pages Web App"</li>
                    <li>Expiration: 90 days ë˜ëŠ” 1 year</li>
                    <li>Select scopes: â˜‘ï¸ repo (Full control of private repositories)</li>
                    <li>Generate token â†’ ìƒì„±ëœ í† í°ì„ ë³µì‚¬í•˜ì—¬ ì…ë ¥</li>
                </ol>
                <p class="modal-note">âš ï¸ í† í°ì€ í•œ ë²ˆë§Œ í‘œì‹œë˜ë¯€ë¡œ ë°˜ë“œì‹œ ë³µì‚¬í•´ë‘ì„¸ìš”.</p>
            </div>
        </div>
    </div>

    <!-- íŒŒì¼/í´ë” ìƒì„± ëª¨ë‹¬ (ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±) -->
    <div id="create-modal" class="modal hidden" style="z-index: 9999;">
        <div class="modal-content" style="pointer-events: auto;">
            <div class="modal-header">
                <h3 id="create-modal-title">ìƒˆ íŒŒì¼ ìƒì„±</h3>
                <button id="modal-close-x" type="button" style="cursor: pointer;">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" id="create-path" style="width: 100%; padding: 8px;">
                </div>
            </div>
            <div class="modal-footer">
                <button id="create-confirm" class="modal-btn primary" type="button" style="cursor: pointer; padding: 8px 16px;">ìƒì„±</button>
            </div>
        </div>
    </div>

    <!-- íŒŒì¼ í¸ì§‘ ëª¨ë‹¬ -->
    <div id="edit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>íŒŒì¼ í¸ì§‘</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="edit-path">ìƒˆ ê²½ë¡œ</label>
                    <input type="text" id="edit-path" placeholder="folder/subfolder/filename.md">
                    <small>íŒŒì¼ ì´ë¦„ì´ë‚˜ ìœ„ì¹˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</small>
                </div>
            </div>
            <div class="modal-footer">
                <button id="edit-confirm" class="modal-btn primary">ë³€ê²½</button>
                <button class="modal-btn danger" id="delete-file">ì‚­ì œ</button>
                <button class="modal-btn secondary modal-close">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <script src="assets/libs/marked.min.js"></script>
    <script src="assets/libs/crypto-js.min.js"></script>
    <!-- EmailJS for sending emails -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/github-api.js"></script>
    <script src="assets/js/editor.js"></script>
    <script src="assets/js/file-manager.js"></script>
    <script src="assets/js/heatmap.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>
